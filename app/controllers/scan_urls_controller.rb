# frozen_string_literal: true

class ScanUrlsController < ApplicationController
  require 'httparty'
  require 'pry'

  def index
    @vulnerabilities = Vulnerability.all
    @scanner = Analysis.new
    # binding.pry
  end

  def analize
    url = params[:url]
    vulnerabilities = params[:vulnerabilities]
    HTTParty.post('http://127.0.0.1:5000/', body: {url: url, vulnerabilities: vulnerabilities}.to_json)
    logger.info("Successfully submitted Request")
    # redirect_to 'http://www.google.com'
  end
end
